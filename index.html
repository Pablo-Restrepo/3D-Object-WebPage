<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Object</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/OrbitControls.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/svg+xml" href="img/favicon.svg">
</head>

<body>
    <div class="button-container">
        <a href="https://github.com/Pablo736/3d-Object-WebPage">
            <button class="button-info">
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 40 40" fill="none">
                    <path
                        d="M20 2.5C24.6413 2.5 29.0925 4.34374 32.3744 7.62563C35.6563 10.9075 37.5 15.3587 37.5 20C37.5 24.6413 35.6563 29.0925 32.3744 32.3744C29.0925 35.6563 24.6413 37.5 20 37.5C15.3587 37.5 10.9075 35.6563 7.62563 32.3744C4.34374 29.0925 2.5 24.6413 2.5 20C2.5 15.3587 4.34374 10.9075 7.62563 7.62563C10.9075 4.34374 15.3587 2.5 20 2.5ZM20.9275 9.98C18.8925 9.98 17.2975 10.5575 16.115 11.7125C14.905 12.8675 14.3275 14.4625 14.3275 16.4975H17.4625C17.4625 15.3425 17.6825 14.435 18.15 13.8025C18.6725 13.0325 19.525 12.675 20.735 12.675C21.67 12.675 22.4125 12.9225 22.935 13.445C23.43 13.9675 23.705 14.6825 23.705 15.59C23.705 16.2775 23.4575 16.9375 22.9625 17.5425L22.6325 17.9275C20.845 19.5225 19.7725 20.6775 19.415 21.42C19.03 22.1625 18.865 23.07 18.865 24.115V24.5H22.0275V24.115C22.0275 23.455 22.165 22.8775 22.44 22.3275C22.6875 21.8325 23.045 21.365 23.54 20.9525C24.86 19.7975 25.6575 19.055 25.905 18.78C26.565 17.9 26.9225 16.7725 26.9225 15.3975C26.9225 13.72 26.3725 12.4 25.2725 11.4375C24.1725 10.4475 22.715 9.98 20.9275 9.98ZM20.4325 25.8475C19.8718 25.8323 19.3279 26.04 18.92 26.425C18.7186 26.6147 18.5604 26.8455 18.456 27.1017C18.3516 27.3579 18.3035 27.6336 18.315 27.91C18.315 28.515 18.5075 29.01 18.92 29.395C19.3248 29.7879 19.8683 30.0053 20.4325 30C21.0375 30 21.5325 29.8075 21.945 29.4225C22.1507 29.2289 22.3133 28.9942 22.4222 28.7336C22.5312 28.473 22.5841 28.1924 22.5775 27.91C22.5828 27.6344 22.5319 27.3605 22.4278 27.1052C22.3238 26.8499 22.1689 26.6185 21.9725 26.425C21.554 26.0393 21.0015 25.8321 20.4325 25.8475Z"
                        fill="black" />
                </svg>
            </button>
        </a>
    </div>
    <script>
        let scene, camera, renderer, controls;

        function init() {

            scene = new THREE.Scene();
            scene.background = new THREE.Color(0xDBDBDB);

            camera = new THREE.PerspectiveCamera(40, window.innerWidth / window.innerHeight, 1, 5000);
            camera.rotation.y = 45 / 180 * Math.PI;
            camera.position.x = -30;
            camera.position.y = 14;
            camera.position.z = -13;

            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.1;
            controls.addEventListener('change', render);

            hlight = new THREE.AmbientLight(0x404040, 2);
            scene.add(hlight);

            directionalLight = new THREE.DirectionalLight(0xffffff, 2.5);
            directionalLight.position.set(0, 1, 0);
            directionalLight.castShadow = true;
            scene.add(directionalLight);

            light = new THREE.PointLight(0xc4c4c4, 0.5);
            light.position.set(0, 300, 500);
            scene.add(light);

            light2 = new THREE.PointLight(0xc4c4c4, 0.5);
            light2.position.set(500, 100, 0);
            scene.add(light2);

            light3 = new THREE.PointLight(0xc4c4c4, 0.5);
            light3.position.set(0, 100, -500);
            scene.add(light3);

            light4 = new THREE.PointLight(0xc4c4c4, 0.5);
            light4.position.set(-500, 300, 500);
            scene.add(light4);

            const loader = new THREE.GLTFLoader();
            loader.load('Object/scene.gltf', function (gltf) {
                const object = gltf.scene.children[0];
                object.scale.set(50, 50, 50);
                scene.add(gltf.scene);
                const boundingBox = new THREE.Box3().setFromObject(object);
                const center = new THREE.Vector3();
                boundingBox.getCenter(center);

                object.position.sub(center);
                animate();
            });
        }

        function render() {
            renderer.render(scene, camera);
        }

        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            render();
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        init();

        window.addEventListener('resize', onWindowResize);
    </script>
</body>

</html>